schema: '2.0'
stages:
  data_ingestion:
    cmd: py -m src.repoRatePred.pipeline.stage_01_data_ingestion_pipeline
    deps:
    - path: src/repoRatePred/components/data_ingestion.py
      hash: md5
      md5: 03687064283bc3ed21d579a6415d5db0
      size: 974
    - path: src/repoRatePred/pipeline/stage_01_data_ingestion_pipeline.py
      hash: md5
      md5: 4c2893f1ef45369576aa04bb9a17f246
      size: 755
    params:
      config/config.yaml:
        data_ingestion:
          root_dir: artifacts/data_ingestion
          local_data_file_path: artifacts/data_ingestion/dataset.csv
          source_url: raw_data/finalRepoRate.csv
  data_validation:
    cmd: py -m src.repoRatePred.pipeline.stage_02_data_validation_pipeline
    deps:
    - path: src/repoRatePred/components/data_validation.py
      hash: md5
      md5: 2c3f46243392662c6c2bc3bf0e253c4b
      size: 1123
    - path: src/repoRatePred/pipeline/stage_02_data_validation_pipeline.py
      hash: md5
      md5: b1db1926ef4d838fd3cee71fc95204c9
      size: 996
    params:
      config/config.yaml:
        data_validation:
          root_dir: artifacts/data_validation
          dataset_file_path: artifacts/data_ingestion/dataset.csv
          validation_status_file_path: artifacts/data_validation/status.txt
      schema.yaml:
        columns:
          Date: object
          GoldPrice: float64
          BankRate: float64
          CrudeOilRate: float64
          RepoRate: float64
          UsdInr: float64
        targer_colunm: RepoRate
    outs:
    - path: artifacts/data_validation/status.txt
      hash: md5
      md5: f827cf462f62848df37c5e1e94a4da74
      size: 4
  data_transformation:
    cmd: py -m src.repoRatePred.pipeline.stage_03_data_transformation_pipeline
    deps:
    - path: src/repoRatePred/components/data_transformation.py
      hash: md5
      md5: 0de088275c420ea35abe8f6b6327037c
      size: 4289
    - path: src/repoRatePred/pipeline/stage_03_data_transformation_pipeline.py
      hash: md5
      md5: cff6a6ccc3f147fdc0bf77dec73f23f2
      size: 892
    params:
      config/config.yaml:
        data_transformation:
          root_dir: artifacts/data_transformation
          dataset_file_path: artifacts/data_ingestion/dataset.csv
          processed_dataset_file_path: artifacts/data_transformation/processed_dataset.csv
          preprocessor_obj_path: artifacts/data_transformation/preprocessor.pkl
          test_size: 0.3
          train_dataset_file_path: artifacts/data_transformation/train.csv
          test_dataset_file_path: artifacts/data_transformation/test.csv
          random_state: 57
      schema.yaml:
        targer_colunm: RepoRate
  data_training:
    cmd: py -m src.repoRatePred.pipeline.stage_04_data_training_pipeline
    deps:
    - path: src/repoRatePred/components/data_trainer.py
      hash: md5
      md5: 91ec49124e816880cd779a93fb9c5f3f
      size: 3825
    - path: src/repoRatePred/pipeline/stage_04_data_training_pipeline.py
      hash: md5
      md5: a7c39701609d61ee4280d321a10b9ed8
      size: 804
    params:
      params.yaml:
        model_trainer:
          params:
            Random Forest:
              max_features:
              - sqrt
              - log2
              n_estimators:
              - 4
              - 8
              - 16
              - 32
              - 64
              - 128
              - 256
              max_depth:
              - 3
              - 5
              - 7
              - 9
              n_jobs:
              - -1
            Gradient Boosting:
              learning_rate:
              - 0.1
              - 0.01
              - 0.05
              - 0.001
              subsample:
              - 0.75
              - 0.8
              - 0.85
              - 0.9
              max_features:
              - sqrt
              - log2
              n_estimators:
              - 32
              - 64
              - 128
              - 256
              - 512
              max_depth:
              - 3
              - 5
              - 6
            XGBRegressor:
              learning_rate:
              - 0.01
              - 0.05
              - 0.001
              n_estimators:
              - 32
              - 64
              - 128
              - 256
              max_depth:
              - 3
              - 5
              - 10
              n_jobs:
              - -1
            AdaBoost Regressor:
              learning_rate:
              - 0.1
              - 0.01
              - 0.5
              - 0.001
              n_estimators:
              - 8
              - 16
              - 32
              - 64
              - 128
              - 256
            Elastic Net:
              alpha:
              - 0.9
              - 1
              - 5
              l1_ratio:
              - 0.8
              - 1
      config/config.yaml:
        model_trainer:
          root_dir: artifacts/model_trainer
          train_data_path: artifacts/data_transformation/train.csv
          test_data_path: artifacts/data_transformation/test.csv
          model_name: model.pkl
          best_parsms: artifacts/model_trainer/bestParams.txt
    outs:
    - path: artifacts/model_trainer/model.pkl
      hash: md5
      md5: 25985b316a03688d1f2d4e534e34f001
      size: 227715
